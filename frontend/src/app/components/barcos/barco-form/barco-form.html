<h2>{{ titulo }}</h2>

<div *ngIf="loading">Cargando...</div>
<div *ngIf="!loading && error" style="color:red;">{{ error }}</div>

<form *ngIf="!loading" (ngSubmit)="guardar()" style="display:grid;gap:12px;max-width:420px;">
  <div>
    <label>Posición X</label><br />
    <input type="number" [(ngModel)]="model.posX" name="posX" required />
  </div>
  <div>
    <label>Posición Y</label><br />
    <input type="number" [(ngModel)]="model.posY" name="posY" required />
  </div>
  <div>
    <label>Velocidad X</label><br />
    <input type="number" [(ngModel)]="model.velocidadX" name="velocidadX" required />
  </div>
  <div>
    <label>Velocidad Y</label><br />
    <input type="number" [(ngModel)]="model.velocidadY" name="velocidadY" required />
  </div>

  <div>
    <label>Jugador</label><br />
    <select [(ngModel)]="model.jugadorId" name="jugadorId" required>
      <option [ngValue]="undefined">-- Selecciona --</option>
      <option *ngFor="let j of jugadores" [ngValue]="j.id">{{ j.nombre }} ({{ j.email }})</option>
    </select>
  </div>

  <div>
    <label>Modelo</label><br />
    <select [(ngModel)]="model.modeloId" name="modeloId" required>
      <option [ngValue]="undefined">-- Selecciona --</option>
      <option *ngFor="let m of modelos" [ngValue]="m.id">{{ m.nombreModelo }} - {{ m.color }}</option>
    </select>
  </div>

  <div style="display:flex;gap:8px;">
    <button type="submit">{{ id ? 'Actualizar' : 'Crear' }}</button>
    <button type="button" (click)="cancelar()">Cancelar</button>
  </div>
</form>
